{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 15,
  "summary": "Build a professional, DaVinci Resolve–inspired web app for cinematic 3D logo creation with AI text-to-logo generation, advanced 3D/material controls, cinematic effects, scene/background tools, and export (static + animation), using React/Next.js with Three.js/Babylon.js and a Node.js/Firebase backend.",
  "architectural_notes": [
    "Frontend: React / Next.js",
    "3D engine: Three.js or Babylon.js (WebGL)",
    "Backend: Node.js with Firebase",
    "AI components: Text-to-Design + Style Transfer"
  ],
  "known_issues": [
    "Deployment failed; production build did not publish successfully so the app is not accessible/opening.",
    "App loads but hits a startup initialization failure and shows the user-facing StartupFallbackScreen message ('3D Logo Creator failed to initialize properly').",
    "Startup fallback screen persists in latest live deployment; 3D engine still fails to initialize for user (likely WebGL/renderer init issue)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-the-core-3d-logo-editor-screen-that-renders-editable-3d-text-as-a-logo-in-real-time-in-the-browser-including-a-text-input-for-the-brand-name-and-a-selectable-style-e-g-metal-gold-chrome-glass-neon-cinematic",
      "title": "Create the core 3D Logo Editor screen that renders editable 3D text as a logo in real time in the browser, including a text input for the brand name and a selectable style (e.g., Metal, Gold, Chrome, Glass, Neon, Cinematic).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-advanced-3d-controls-for-the-logo-geometry-and-transform-extrusion-depth-bevel-amount-edge-smoothness-and-rotation-controls-for-x-y-z-axes",
      "title": "Implement Advanced 3D Controls for the logo geometry and transform: extrusion depth, bevel amount/edge smoothness, and rotation controls for X/Y/Z axes.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-lighting-shadows-reflections-controls-including-light-angle-direction-and-intensity-plus-toggles-sliders-for-shadow-strength-and-reflection-metalness-like-behavior-appropriate-to-the-selected-style",
      "title": "Add Lighting + Shadows/Reflections controls, including light angle/direction and intensity, plus toggles/sliders for shadow strength and reflection/metalness-like behavior appropriate to the selected style.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-a-material-texture-system-with-preset-materials-gold-silver-matte-carbon-fiber-marble-roughness-and-gloss-or-equivalent-sliders-and-custom-texture-upload-that-applies-to-the-logo-material-where-supported",
      "title": "Provide a Material & Texture system with: preset materials (Gold, Silver, Matte, Carbon Fiber, Marble), roughness and gloss (or equivalent) sliders, and custom texture upload that applies to the logo material where supported.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-cinematic-effects-controls-for-glow-bloom-and-rim-lighting-plus-at-least-one-particle-based-effect-option-smoke-or-sparks-that-can-be-toggled-on-off-and-parameterized-e-g-intensity-density",
      "title": "Add Cinematic Effects controls for glow/bloom and rim lighting, plus at least one particle-based effect option (smoke OR sparks) that can be toggled on/off and parameterized (e.g., intensity/density).",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-motion-blur-and-depth-of-field-style-controls-for-the-viewport-render-where-feasible-in-real-time-with-an-on-off-toggle-and-at-least-one-adjustable-parameter-for-each-effect",
      "title": "Implement motion blur and depth-of-field style controls for the viewport render (where feasible in real time), with an on/off toggle and at least one adjustable parameter for each effect.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-background-scene-options-studio-background-dark-cinematic-stage-gradient-background-and-transparent-background-modes-ensure-background-selection-affects-exports-as-expected",
      "title": "Add Background & Scene options: Studio background, Dark cinematic stage, Gradient background, and Transparent background modes. Ensure background selection affects exports as expected.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-export-options-png-with-transparency-jpg-at-up-to-4k-resolution-svg-export-for-logo-use-provide-a-best-effort-vector-representation-of-the-logo-mark-text-and-an-animation-export-of-a-rotating-logo-as-a-downloadable-video",
      "title": "Implement Export Options: PNG with transparency, JPG at up to 4K resolution, SVG export for logo use (provide a best-effort vector representation of the logo mark/text), and an animation export of a rotating logo as a downloadable video.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-create-brand-presets-luxury-tech-spiritual-gaming-corporate-that-apply-a-coherent-combination-of-style-material-lighting-effects-background-defaults-and-can-be-used-as-one-click-starting-points",
      "title": "Create Brand Presets (Luxury, Tech, Spiritual, Gaming, Corporate) that apply a coherent combination of style/material/lighting/effects/background defaults and can be used as one-click starting points.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-davinci-resolve-inspired-dark-ui-with-a-professional-cinematic-feel-including-a-left-panel-for-presets-assets-a-central-viewer-for-the-3d-viewport-a-right-inspector-panel-for-parameters-and-timeline-like-controls-for-rotating-animating-the-logo-keyframes-optional-use-english-for-all-user-facing-text",
      "title": "Implement a DaVinci Resolve–inspired dark UI with a professional cinematic feel, including: a left panel for presets/assets, a central viewer for the 3D viewport, a right inspector panel for parameters, and timeline-like controls for rotating/animating the logo (keyframes optional). Use English for all user-facing text.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-architecture-pipeline-section-or-an-included-documentation-page-that-describes-app-architecture-ui-wireframe-flow-3d-rendering-pipeline-and-logo-generation-logic-for-the-implemented-non-llm-text-to-logo-styling-approach-plus-include-a-few-representative-code-snippets-from-the-codebase",
      "title": "Add an in-app “Architecture & Pipeline” section (or an included documentation page) that describes: app architecture, UI wireframe flow, 3D rendering pipeline, and logo generation logic for the implemented (non-LLM) text-to-logo styling approach, plus include a few representative code snippets from the codebase.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-free-vs-pro-monetization-model-section-in-the-app-or-docs-describing-pricing-tiers-and-feature-gating-and-implement-local-feature-gating-in-the-ui-no-payment-processing-required-so-pro-only-features-are-visibly-marked-and-disabled-unless-pro-mode-is-enabled",
      "title": "Add a “Free vs Pro” monetization model section in the app (or docs) describing pricing tiers and feature gating, and implement local feature gating in the UI (no payment processing required) so Pro-only features are visibly marked and disabled unless Pro mode is enabled.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-diagnose-the-failed-production-deployment-and-implement-the-minimal-changes-required-so-the-project-builds-and-deploys-successfully-and-the-app-loads-when-opened-in-the-browser",
      "title": "Diagnose the failed production deployment and implement the minimal changes required so the project builds and deploys successfully, and the app loads when opened in the browser.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-facing-fallback-screen-for-critical-startup-failures-e-g-when-the-frontend-cannot-initialize-or-assets-fail-to-load-with-clear-english-guidance-to-refresh-and-retry",
      "title": "Add a user-facing fallback screen for critical startup failures (e.g., when the frontend cannot initialize or assets fail to load), with clear English guidance to refresh and retry.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-diagnose-and-fix-the-root-cause-of-the-startup-initialization-failure-that-triggers-the-user-facing-startup-error-screen-ensuring-the-app-loads-successfully-in-production-builds-and-in-the-browser",
      "title": "Diagnose and fix the root cause of the startup initialization failure that triggers the user-facing startup error screen, ensuring the app loads successfully in production builds and in the browser.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-correct-webgl-three-js-renderer-initialization-in-the-editor-viewport-to-avoid-passing-unsupported-parameters-to-the-three-js-renderer-and-to-prevent-post-processing-settings-from-breaking-initialization",
      "title": "Correct WebGL/Three.js renderer initialization in the editor viewport to avoid passing unsupported parameters to the Three.js renderer and to prevent post-processing settings from breaking initialization.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-preflight-webgl-capability-check-before-mounting-the-3d-viewport-if-webgl-is-unavailable-disabled-show-a-clear-in-app-message-english-explaining-that-webgl-is-required-and-the-editor-cannot-run-in-this-browser-configuration",
      "title": "Add a preflight WebGL capability check before mounting the 3D viewport; if WebGL is unavailable/disabled, show a clear in-app message (English) explaining that WebGL is required and the editor cannot run in this browser configuration.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-enhance-the-startup-fallback-screen-to-optionally-display-technical-error-details-captured-by-the-startup-error-boundary-message-stack-when-available-with-a-copy-to-clipboard-action-while-keeping-the-default-view-user-friendly-and-non-technical",
      "title": "Enhance the startup fallback screen to optionally display technical error details captured by the startup error boundary (message + stack when available) with a copy-to-clipboard action, while keeping the default view user-friendly and non-technical.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-post-processing-initialization-failures-from-crashing-the-entire-app-if-effectcomposer-bloom-setup-fails-gracefully-disable-post-processing-e-g-set-bloomenabled-to-false-for-the-session-and-continue-rendering-the-3d-scene-without-triggering-the-global-startuperrorboundary",
      "title": "Prevent post-processing initialization failures from crashing the entire app. If EffectComposer / bloom setup fails, gracefully disable post-processing (e.g., set bloomEnabled to false for the session) and continue rendering the 3D scene without triggering the global StartupErrorBoundary.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-webgl-capability-checks-and-initialization-update-the-webgl-availability-detection-to-be-more-reliable-prefer-webgl2-when-available-detect-context-creation-failures-and-add-handling-for-webgl-context-loss-restoration-so-the-viewport-does-not-get-stuck-in-a-broken-state",
      "title": "Harden WebGL capability checks and initialization: update the WebGL availability detection to be more reliable (prefer WebGL2 when available; detect context creation failures) and add handling for WebGL context loss/restoration so the viewport does not get stuck in a broken state.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-renderer-configuration-in-the-viewport-cannot-cause-startup-failure-remove-or-refactor-any-renderer-state-mutations-during-canvas-creation-that-can-conflict-with-post-processing-e-g-autoclear-toggling-so-renderer-initialization-remains-stable-regardless-of-bloom-toggle-state",
      "title": "Ensure renderer configuration in the viewport cannot cause startup failure: remove or refactor any renderer state mutations during Canvas creation that can conflict with post-processing (e.g., autoClear toggling) so renderer initialization remains stable regardless of bloom toggle state.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-diagnostic-details-captured-during-initialization-failures-by-augmenting-the-startup-error-details-with-relevant-webgl-renderer-info-when-available-e-g-webgl-version-renderer-vendor-strings-while-keeping-default-user-facing-messaging-in-english-and-non-technical",
      "title": "Improve diagnostic details captured during initialization failures by augmenting the startup error details with relevant WebGL/renderer info when available (e.g., WebGL version, renderer/vendor strings), while keeping default user-facing messaging in English and non-technical.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-update-only-the-selected-button-element-at-xpath-html-1-body-1-div-1-div-1-div-1-div-3-button-1-the-free-plan-button-in-frontend-src-features-pro-freevspropanel-tsx-so-the-app-can-be-used-for-free-without-being-blocked-by-that-button-state-the-button-must-not-be-disabled-in-free-mode-and-clicking-it-must-not-ever-switch-the-user-into-pro-mode-if-the-user-is-currently-in-pro-mode-clicking-this-button-should-switch-them-back-to-free-mode",
      "title": "Update ONLY the selected button element at XPath /html[1]/body[1]/div[1]/div[1]/div[1]/div[3]/button[1] (the Free plan button in frontend/src/features/pro/FreeVsProPanel.tsx) so the app can be used for free without being blocked by that button state: the button must not be disabled in Free mode, and clicking it must not ever switch the user into Pro mode. If the user is currently in Pro mode, clicking this button should switch them back to Free mode.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-only-the-free-plan-button-element-at-xpath-html-1-body-1-div-1-div-1-div-1-div-3-button-1-in-frontend-src-features-pro-freevspropanel-tsx-so-the-app-can-be-used-for-free-without-being-blocked-1-the-button-must-not-be-disabled-when-the-user-is-in-free-mode-2-clicking-the-button-while-in-free-mode-must-not-switch-the-user-into-pro-mode-and-3-clicking-the-button-while-in-pro-mode-must-switch-the-user-back-to-free-mode",
      "title": "Update ONLY the Free plan button element at XPath /html[1]/body[1]/div[1]/div[1]/div[1]/div[3]/button[1] in frontend/src/features/pro/FreeVsProPanel.tsx so the app can be used for free without being blocked: (1) the button must not be disabled when the user is in Free mode, (2) clicking the button while in Free mode must not switch the user into Pro mode, and (3) clicking the button while in Pro mode must switch the user back to Free mode.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-diagnose-and-fix-the-root-cause-of-the-startup-failure-that-triggers-the-global-startuperrorboundary-so-the-app-reliably-loads-to-the-main-ui-editor-tab-in-production-builds-instead-of-showing-the-message-the-app-encountered-a-startup-problem",
      "title": "Diagnose and fix the root cause of the startup failure that triggers the global StartupErrorBoundary so the app reliably loads to the main UI (Editor tab) in production builds instead of showing the message \"The app encountered a startup problem\".",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-3d-viewport-initialization-so-failures-in-webgl-renderer-creation-or-post-processing-setup-cannot-crash-the-entire-application-instead-gracefully-fall-back-to-a-working-editor-viewport-without-post-processing-when-possible-and-only-show-startupfallbackscreen-when-the-app-truly-cannot-start",
      "title": "Harden 3D viewport initialization so failures in WebGL renderer creation or post-processing setup cannot crash the entire application; instead, gracefully fall back to a working editor viewport without post-processing when possible, and only show StartupFallbackScreen when the app truly cannot start.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-startup-error-diagnostics-are-actionable-when-startupfallbackscreen-is-shown-it-must-consistently-include-the-captured-error-message-stack-when-available-plus-webgl-diagnostics-and-the-copy-details-action-must-copy-both-sections-as-plain-text",
      "title": "Ensure startup error diagnostics are actionable: when StartupFallbackScreen is shown, it must consistently include the captured error message/stack (when available) plus WebGL diagnostics, and the \"Copy details\" action must copy both sections as plain text.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "3D Logo Generator with AI text-to-logo (brand name + style) and multiple cinematic 3D logo styles (metal/gold/chrome/glass/neon)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Advanced 3D controls: extrusion depth, bevel/edge smoothness, XYZ rotation, lighting angle/intensity, shadow/reflection controls",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Material & texture system: preset materials (gold/silver/matte/carbon fiber/marble), custom texture upload, roughness/gloss sliders",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Cinematic effects: glow/bloom/rim light, smoke/sparks/particles, motion blur, depth of field",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Background & scene options: studio background, dark cinematic stage, gradient background, transparent background",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Export options: PNG (transparent), JPG (4K), SVG, MP4 rotating 3D logo animation export",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Brand presets: Luxury, Tech, Spiritual, Gaming, Corporate (style presets to drive look/materials/lighting)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "DaVinci Resolve–inspired dark UI/UX with drag-and-drop simplicity and timeline-like animation controls",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Architecture deliverables: app architecture, UI wireframe flow, 3D rendering pipeline, logo generation logic, sample code snippets",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Monetization model: Free + Pro pricing/feature gating plan",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Ensure the backend canister builds and deploys cleanly (even if it remains a minimal actor), and confirm the frontend can load without requiring any backend calls.",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "3D Logo Creator",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}