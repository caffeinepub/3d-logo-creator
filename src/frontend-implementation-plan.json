{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Cinematic 3D Logo Creator (DaVinci-inspired) — Frontend Implementation Plan",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Build the core 3D Logo Editor screen with real-time editable 3D text, brand name input, and selectable style presets.",
      "acceptanceCriteria": [
        "User can enter a brand name and see a 3D text logo rendered in the viewport",
        "User can switch among at least 6 styles (Metal, Gold, Chrome, Glass, Neon, Cinematic) and see visible material/lighting changes",
        "Rendering remains interactive (orbit/pan/zoom or equivalent camera controls)"
      ],
      "file_operations": [
        {
          "path": "frontend/package.json",
          "operation": "modify",
          "description": "Add required 3D rendering dependencies (Three.js + React renderer and helpers) to support real-time 3D text rendering and camera controls."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "create",
          "description": "Create the main app shell that hosts the Editor layout (left presets panel, center 3D viewer, right inspector, bottom timeline strip) and top-level navigation to Docs. Use the shadcn-ui component library for panels/controls (e.g., buttons, tabs, inputs). Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/EditorScreen.tsx",
          "operation": "create",
          "description": "Implement the core 3D Logo Editor screen: brand name text input, style selector (Metal/Gold/Chrome/Glass/Neon/Cinematic), and binds to a centralized editor state store. Use shadcn-ui form controls to keep the UI consistent. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/LogoViewport.tsx",
          "operation": "create",
          "description": "Create the interactive 3D viewport (a 3D game-style scene renderer) that renders the 3D text logo in real time and supports orbit/pan/zoom controls. Implement deterministic style mapping (no external AI)."
        },
        {
          "path": "frontend/src/features/editor/logo/ThreeTextLogo.tsx",
          "operation": "create",
          "description": "Implement a reusable 3D text logo object (text geometry + material) that updates live when brand name/style change, and exposes hooks for transform/material/effects adjustments."
        },
        {
          "path": "frontend/src/features/editor/logo/stylePresets.ts",
          "operation": "create",
          "description": "Define the deterministic style preset mapping for at least 6 styles (Metal, Gold, Chrome, Glass, Neon, Cinematic) to material and lighting defaults used by the viewport."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "create",
          "description": "Add a typed editor state model (brand name, selected style, geometry params, transform params, lighting params, material params, effects params, background mode, and export settings) with update helpers."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Add advanced 3D geometry and transform controls: extrusion depth, bevel/smoothness, and rotation X/Y/Z with reset.",
      "acceptanceCriteria": [
        "Extrusion depth slider updates the 3D logo depth live",
        "Bevel/smoothness control(s) visibly change edges (e.g., bevel size/segments)",
        "Rotation X/Y/Z controls update the logo orientation live and can be reset to defaults"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/GeometryControls.tsx",
          "operation": "create",
          "description": "Create inspector controls for extrusion depth and bevel/smoothness, wired to editor state. Use shadcn-ui sliders/inputs for consistent UX. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/inspector/TransformControls.tsx",
          "operation": "create",
          "description": "Create inspector controls for rotation X/Y/Z (with reset to defaults) and wire them to the logo transform in the viewport. Use shadcn-ui controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/logo/ThreeTextLogo.tsx",
          "operation": "modify",
          "description": "Apply live geometry parameter updates (extrusion, bevel size/segments/smoothness) and transform updates (rotation X/Y/Z) from editor state to the rendered 3D logo."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Extend the editor state with geometry parameters (extrusion, bevel, smoothness/segments) and rotation parameters, including default/reset values."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Implement lighting + shadows/reflections controls (light angle/direction, intensity, shadow strength/softness, reflection/metallic behavior).",
      "acceptanceCriteria": [
        "User can adjust light direction/angle and intensity and see the logo lighting change in real time",
        "User can enable/disable shadows and adjust their strength/softness within a reasonable range",
        "User can adjust a reflection/metallic-like control (implementation-dependent) and see a visible change on reflective styles (e.g., Gold/Chrome)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/LightingControls.tsx",
          "operation": "create",
          "description": "Create inspector controls for light direction/angle and intensity, plus shadow enable/strength/softness and a reflection/metalness-like slider. Use shadcn-ui sliders/switches. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/scene/LightingRig.tsx",
          "operation": "create",
          "description": "Implement a scene lighting rig that reads lighting/shadow parameters from editor state and updates the scene in real time (including shadow configuration and softening)."
        },
        {
          "path": "frontend/src/features/editor/logo/materials.ts",
          "operation": "create",
          "description": "Centralize material parameter application (including reflective/metallic behavior) so reflective styles (Gold/Chrome) visibly respond to reflection/metalness-like controls."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add lighting/shadows/reflection controls to editor state with sensible ranges and defaults per style."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Create a materials/textures system with preset materials, roughness/gloss controls, and custom texture upload with reset.",
      "acceptanceCriteria": [
        "User can select each preset material and see a distinct visual result",
        "Roughness and gloss (or equivalent parameters) sliders visibly affect highlights/reflections",
        "User can upload an image file and see it applied as a texture to the logo (with a clear way to remove/reset it)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/MaterialControls.tsx",
          "operation": "create",
          "description": "Add preset material selector (Gold, Silver, Matte, Carbon Fiber, Marble) and roughness/gloss sliders, plus an upload/reset UI for custom textures. Use shadcn-ui inputs/buttons and a clear Pro labeling style if needed later. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/texture/textureLoader.ts",
          "operation": "create",
          "description": "Implement client-side image file loading for textures (from file input or drag-and-drop), producing an in-memory texture usable by the 3D renderer, plus reset/remove handling."
        },
        {
          "path": "frontend/src/features/editor/logo/materials.ts",
          "operation": "modify",
          "description": "Implement material preset definitions (Gold/Silver/Matte/Carbon Fiber/Marble) and apply roughness/gloss (or equivalent) and optional custom texture maps to the logo material."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add material preset selection, roughness/gloss parameters, and custom texture state (including reset/remove) to the editor state."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Add cinematic effects controls: bloom/glow, rim lighting, and a toggleable particle effect (smoke or sparks) with adjustable intensity/density.",
      "acceptanceCriteria": [
        "Bloom/glow can be enabled and intensity adjusted with an obvious visual change",
        "Rim light can be enabled/adjusted with an obvious edge highlight change",
        "At least one particle effect (smoke or sparks) can be enabled/disabled and its intensity/density changed"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/EffectsControls.tsx",
          "operation": "create",
          "description": "Create inspector controls for bloom/glow (toggle + intensity), rim light (toggle + intensity/width), and one particle effect (smoke or sparks) with toggle + intensity/density. Use shadcn-ui switches/sliders. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/scene/PostProcessing.tsx",
          "operation": "create",
          "description": "Implement real-time post-processing pipeline in the 3D viewport for bloom/glow and any additional feasible cinematic passes, driven by editor state."
        },
        {
          "path": "frontend/src/features/editor/scene/RimLight.tsx",
          "operation": "create",
          "description": "Implement rim lighting behavior for the logo (e.g., shader/material augmentation or light setup) that visibly increases edge highlights when enabled and adjusted."
        },
        {
          "path": "frontend/src/features/editor/scene/Particles.tsx",
          "operation": "create",
          "description": "Implement one particle-based effect (smoke OR sparks) that can be toggled and parameterized (intensity/density) and is rendered in the 3D viewport."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add effect toggles/parameters (bloom/glow, rim light, particles) to the editor state with defaults that work with the Cinematic style."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Implement motion blur and depth-of-field viewport controls with toggles and at least one adjustable parameter each.",
      "acceptanceCriteria": [
        "Depth of field can be toggled and adjusted (e.g., focus distance/aperture) with visible blur changes",
        "Motion blur can be toggled and adjusted (e.g., strength) with visible effect during rotation/animation playback"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/CameraEffectsControls.tsx",
          "operation": "create",
          "description": "Add inspector controls for depth of field (toggle + focus/aperture-like parameter) and motion blur (toggle + strength), wired to editor state. Use shadcn-ui controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/scene/PostProcessing.tsx",
          "operation": "modify",
          "description": "Extend the post-processing pipeline to support depth-of-field and motion blur when enabled, using a best-effort approach that remains feasible in real time."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add camera effects state for depth-of-field and motion blur (enable flags + key parameters) with sensible defaults and ranges."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Add background/scene modes (Studio, Dark stage, Gradient, Transparent) and ensure export respects selected background.",
      "acceptanceCriteria": [
        "User can switch between Studio, Dark stage, Gradient, and Transparent background modes",
        "Transparent mode renders the logo without an opaque background in the viewport (checkerboard or similar preview allowed)",
        "Exports respect the selected background mode (transparent exports preserve alpha when applicable)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/BackgroundControls.tsx",
          "operation": "create",
          "description": "Create background mode selector (Studio, Dark stage, Gradient, Transparent) and wire it to the viewport and export settings. Use shadcn-ui controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/scene/Background.tsx",
          "operation": "create",
          "description": "Implement background rendering modes for the 3D viewport, including a transparent mode with an optional checkerboard preview layer while preserving alpha in the underlying render."
        },
        {
          "path": "frontend/src/features/editor/export/exporters.ts",
          "operation": "create",
          "description": "Implement export helpers that can render/capture the viewport with the correct background settings (including alpha-preserving output for transparent PNG)."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add background mode to editor state and ensure it is consumed consistently by both viewport rendering and exports."
        }
      ]
    },
    {
      "id": "REQ-8",
      "summary": "Implement exports: PNG (transparent), JPG (up to 4K), SVG best-effort vector, and rotating logo animation video with fallback format labeling.",
      "acceptanceCriteria": [
        "PNG export produces a downloadable file and preserves transparency when Transparent background is selected",
        "JPG export produces a downloadable file and supports a 4K option (e.g., 3840×2160)",
        "SVG export produces a downloadable .svg file representing the logo (at minimum a clean vector text/outline representation)",
        "Animation export produces a downloadable video file of a rotating logo for a fixed duration (e.g., 3–6 seconds)",
        "If MP4 is not supported by the browser’s recording pipeline, provide a clearly labeled fallback export format (e.g., WebM) while keeping the UI label explicit about the actual format"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/inspector/ExportPanel.tsx",
          "operation": "create",
          "description": "Create an Export panel UI for PNG/JPG/SVG/Animation with resolution options (including 4K), transparency options, and Pro gating hooks. Use shadcn-ui buttons/selects and clear English labels. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/export/exporters.ts",
          "operation": "modify",
          "description": "Implement client-side capture/export pipeline: PNG with alpha support (when background is Transparent), JPG at selectable resolutions up to 4K, and a best-effort SVG export (at minimum vector text representation)."
        },
        {
          "path": "frontend/src/features/editor/export/animationRecorder.ts",
          "operation": "create",
          "description": "Implement animation export by recording the canvas stream during a deterministic rotating animation for a fixed duration. Prefer MP4 if supported; otherwise fall back to WebM and ensure the UI is explicit about the actual downloaded format."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add export settings to state (format, resolution including 4K option, duration for animation export, and any required capture flags like preserveDrawingBuffer if needed)."
        }
      ]
    },
    {
      "id": "REQ-9",
      "summary": "Add one-click Brand Presets (Luxury, Tech, Spiritual, Gaming, Corporate) that apply coherent settings bundles.",
      "acceptanceCriteria": [
        "Each preset applies multiple settings at once (not just a single dropdown)",
        "Switching presets yields clearly distinct looks",
        "Users can modify settings after applying a preset without breaking the editor"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/editor/presets/brandPresets.ts",
          "operation": "create",
          "description": "Define Brand Presets (Luxury, Tech, Spiritual, Gaming, Corporate) as setting bundles spanning style/material/lighting/effects/background with deterministic values."
        },
        {
          "path": "frontend/src/features/editor/presets/PresetsPanel.tsx",
          "operation": "create",
          "description": "Implement the left-side presets panel that lists Brand Presets and applies them in one click while keeping the editor editable afterwards. Use shadcn-ui list/button components. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/state/editorState.ts",
          "operation": "modify",
          "description": "Add a single action to apply a brand preset bundle (merging multiple settings at once) and preserve editability after application."
        },
        {
          "path": "frontend/src/features/editor/EditorScreen.tsx",
          "operation": "modify",
          "description": "Wire the PresetsPanel into the editor screen layout and ensure applying presets updates the viewport immediately."
        }
      ]
    },
    {
      "id": "REQ-10",
      "summary": "Implement DaVinci-inspired dark UI layout with left presets, center viewport, right inspector, bottom timeline strip, and at least one drag-and-drop workflow.",
      "acceptanceCriteria": [
        "UI uses a consistent dark theme with clear contrast and professional typography",
        "Layout includes left panel (presets/assets), center viewport, right inspector, and a bottom timeline-like strip for animation playback/scrubbing",
        "All labels, buttons, helper text, and errors are in English",
        "Basic drag-and-drop interaction exists for at least one workflow (e.g., dropping a texture image onto the logo/texture slot)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "create",
          "description": "Create the Tailwind entry CSS in src and implement a cinematic dark theme polish (typography, panel contrast, subtle borders) while respecting existing Tailwind/shadcn patterns (no changes under frontend/src/components/ui)."
        },
        {
          "path": "frontend/index.css",
          "operation": "rename",
          "description": "Rename frontend/index.css to frontend/src/index.css so the existing import path from the app entry can resolve consistently, and keep Tailwind directives + CSS variables intact."
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Ensure the app imports the correct global stylesheet (frontend/src/index.css) and mounts the newly created App layout."
        },
        {
          "path": "frontend/src/features/editor/layout/EditorLayout.tsx",
          "operation": "create",
          "description": "Implement the DaVinci-inspired layout grid (left presets/assets, center viewer, right inspector, bottom timeline-like strip) using Tailwind and shadcn-ui building blocks. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/timeline/TimelineStrip.tsx",
          "operation": "create",
          "description": "Create timeline-like controls for rotating/animating playback: play/pause, scrub slider, duration display, and optional loop. Use shadcn-ui controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/texture/DragDropTextureTarget.tsx",
          "operation": "create",
          "description": "Implement a drag-and-drop target for texture images (drop onto a dedicated texture slot UI and/or the viewport overlay) that loads the dropped image and applies it as the custom texture."
        },
        {
          "path": "frontend/src/features/editor/EditorScreen.tsx",
          "operation": "modify",
          "description": "Wire EditorLayout, TimelineStrip, Inspector panels, and DragDropTextureTarget together; ensure all user-facing text remains English."
        },
        {
          "path": "frontend/public/assets/generated/hero-bg.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the generated wide hero background asset at frontend/public/assets/generated/hero-bg.dim_1920x1080.png and wire it into the app shell styling/branding where appropriate."
        },
        {
          "path": "frontend/public/assets/generated/app-icon.dim_512x512.png",
          "operation": "create",
          "description": "Add the generated app icon asset at frontend/public/assets/generated/app-icon.dim_512x512.png and reference it from the UI (e.g., header/brand area) and/or app metadata where appropriate."
        }
      ]
    },
    {
      "id": "REQ-11",
      "summary": "Add an in-app Architecture & Pipeline documentation section accessible from the UI with architecture, wireflow, rendering pipeline, styling logic, and code excerpts.",
      "acceptanceCriteria": [
        "A dedicated screen/section is accessible from the app UI and contains the requested documentation content",
        "Documentation includes at least: (1) screen flow, (2) rendering pipeline description, (3) how style presets map to materials/lights/effects, and (4) a few code excerpts",
        "Content is written in English and matches the app as built"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/docs/ArchitecturePipelineScreen.tsx",
          "operation": "create",
          "description": "Create an in-app documentation screen/section titled “Architecture & Pipeline” that describes app architecture, UI wireframe flow, 3D rendering pipeline, deterministic styling logic, and includes representative code excerpts (kept in sync with implemented files)."
        },
        {
          "path": "frontend/src/features/docs/docsContent.ts",
          "operation": "create",
          "description": "Store the documentation content (English text + embedded code excerpt strings) in one place so it stays consistent and easy to update with the codebase."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire the Architecture & Pipeline section into the app UI (e.g., top navigation tab/button) so it is accessible without external documentation."
        }
      ]
    },
    {
      "id": "REQ-12",
      "summary": "Add Free vs Pro plan section and implement local UI feature gating with a demo toggle for Pro mode (no payments).",
      "acceptanceCriteria": [
        "The app includes a clearly readable Free vs Pro plan description in English (features + indicative pricing)",
        "At least 2–3 advanced features are marked as Pro (e.g., certain effects, 4K export, animation export) and are disabled in Free mode",
        "A developer/admin toggle (or simple user toggle) exists to switch between Free and Pro for demonstration purposes without integrating external payments"
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/pro/ProModeContext.tsx",
          "operation": "create",
          "description": "Implement a local Pro-mode context/provider with a simple UI toggle for demo purposes and helpers to mark/disable Pro-only controls."
        },
        {
          "path": "frontend/src/features/pro/FreeVsProPanel.tsx",
          "operation": "create",
          "description": "Create a readable Free vs Pro section (English) describing indicative pricing tiers and feature differences; include the Pro demo toggle. Use shadcn-ui card/typography components for a professional layout. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/features/editor/inspector/ExportPanel.tsx",
          "operation": "modify",
          "description": "Apply Pro gating to at least 2–3 advanced features (e.g., 4K export option, animation export, certain effects) by visibly marking them as Pro and disabling in Free mode."
        },
        {
          "path": "frontend/src/features/editor/inspector/EffectsControls.tsx",
          "operation": "modify",
          "description": "Apply Pro gating to at least one advanced effects subset (e.g., bloom intensity range, particles, or motion blur/DOF) with clear Pro badges and disabled controls in Free mode."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire FreeVsProPanel into the app UI (either within the Docs area or as an editor side panel section) and wrap the app in ProModeContext so gating works throughout."
        }
      ]
    }
  ]
}